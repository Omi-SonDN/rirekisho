{"version":3,"sources":["include.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["$(document).ready(function () {\n        $(\"cv-forms\").each(function () {\n            $(this).data(\"validator\").settings.success = false;\n        });\n        /*************************fix navbar*************************************/\n        var nav = $('.navbar');\n        var num = $('body').offset().top;\n        $(window).bind('scroll', function () {\n            if ($(this).scrollTop() > num) {\n                nav.addClass(\"nav_fixed\");\n            } else {\n                num = $('body').offset().top;\n                nav.removeClass(\"nav_fixed\");\n            }\n        });\n        /*\n         var notify = $('[notification=true]'), timer;\n         $(document).ajaxStart(function () {\n\n         timer && clearTimeout(timer);\n         timer = setTimeout(function () {\n         //notify.html(\"Loading...\");\n         notify.show();\n         }, 10000);\n         });\n\n         $(document).ajaxStop(function () {\n         clearTimeout(timer);\n         notify.hide();\n         });\n         //noinspection JSUnresolvedFunction\n         $(document).ajaxComplete(function (status, text) {\n\n         });\n\n         /*******************slide toggle *************************/\n        var slideHeader = $('[slide-header=true]');\n        slideHeader.next().hide();\n        slideHeader.first().next().show();\n        slideHeader.click(function () {\n            var content = $(this).next();\n            if (!(content.is(\":visible\"))) {   //no - its hidden - slide all the other open tabs to hide \n                $('[slide-toggle=true]').hide();\n                // open up the content needed         \n                content.slideToggle(800);\n            }\n        });\n        /***************Auto-submit*******************************/\n\n        $(\"[editable=Rirekisho]\").click(function () {\n\n            var key = $(this).attr('id');\n            var name = $(this).attr(\"name\");\n            var sucess_status = $(\"#s_\" + name + \"_\" + key);\n            sucess_status.hide();\n        }).change(function () {\n            var key = $(this).attr('id');\n            var name = $(this).attr(\"name\");\n            var sucess_status = $(\"#s_\" + name + \"_\" + key);\n            var value = $(this).val();\n            var dataString = name + '=' + value;\n            if (value.length > 0) {\n                $.ajax({\n                    //type: \"GET\",\n                    //url: \"/CV/\"+key+\"/edit\",\n                    type: \"PUT\",\n                    url: \"/CV/\" + key,\n                    data: $(this).serialize(),\n                    cache: false,\n                    success: function (html) {\n                        sucess_status.show(20);\n                    }\n                });\n            }\n            else {\n                alert('Enter something.');\n            }\n\n        });\n        /******************radio button********************/\n        $('input[type=radio][editable=Rirekisho]').change(function () {\n            var key = $(this).attr('id');\n            var name = $(this).attr(\"name\");\n            var dataString = name + '=' + this.value;\n            $.ajax({\n                type: \"PUT\",\n                url: \"/CV/\" + key,\n                data: dataString,\n                cache: false,\n                success: function (html) {\n\n                }\n            });\n        });\n        /*****************show CV*************************/\n        $(\".clickable li a\").on('click', function () {\n            var name = $(this).attr('name');//show\n            $(\".bd\").hide();\n            $(\"#\" + name).show();\n            $(\"#p-active\").removeAttr('id');\n            $(this).children('i').attr(\"id\", \"p-active\");\n        });\n        $(\".skippable li a\").on('click', function () {\n            var name = $(this).attr('href');\n            $(\"#p-active\").removeAttr('id');\n            $(this).children('i').attr(\"id\", \"p-active\");\n        });\n        /********************************** validate ***********************************/\n        var currentTime = new Date();\n        var year = currentTime.getFullYear();\n        var validator = $(\"#cv-forms\").validate(\n            {\n                rules: {\n                    Year: {\n                        required: true,\n                        digits: true,\n                        range: [1950, year]\n                    },\n                    Month: {\n                        required: true,\n                        digits: true,\n                        range: [1, 12]\n\n                    },\n                    Content: {\n                        required: true\n                    },\n                    \"study_time\": {\n                        required: true,\n                        digits: true,\n                        min: 1\n                    },\n                    \"work_time\": {\n                        required: true,\n                        digits: true,\n                        min: 1\n                    },\n                    name: {\n                        required: true\n                    }\n                },\n                messages: {\n                    Year: {\n                        range: jQuery.validator.format(\"Năm phải lớn hơn {0} và nhỏ hơn số năm hiện tại \"),\n                        required: \"Bạn chưa điền đủ thông tin cho trường năm\"\n                    },\n                    Content : {\n                        required: \"Bạn chưa điền đủ thông tin cho các trường  \"\n                    },\n                    Month: {\n                        required: \"Bạn chưa điền đủ thông tin cho trường tháng \"\n                    },\n                    name : {\n                        required: \"Bạn chưa điền đủ thông tin cho trường tên kĩ năng \",\n                    },\n                    study_time : {\n                        required: \"Bạn chưa điền đủ thông tin cho trường thời gian học  \",\n                    },\n                    work_time : {\n                        required: \"Bạn chưa điền đủ thông tin cho trường thời gian làm việc \",\n                    }\n                },\n                errorElement: \"div\",\n                errorPlacement: function (error, element) {\n                    var react = element.closest('tbody').attr('data-response');\n                    if (element.attr(\"name\") == \"Year\" || element.attr(\"name\") == \"Month\" || element.attr(\"name\") == \"Content\" || element.attr(\"name\") == \"study_time\" || element.attr(\"name\") == \"work_time\" || element.attr(\"name\") == \"name\") {\n                        error.insertAfter(\"#\" + react + \"_0\");\n                    } else {\n                        error.insertAfter(element);\n                    }\n                }\n            });\n\n        jQuery.extend(jQuery.validator.messages, {\n            required: \"Bạn chưa điền đủ thông tin\",\n            remote: \"Please fix this field.\",\n            email: \"Please enter a valid email address.\",\n            url: \"Please enter a valid URL.\",\n            date: \"Please enter a valid date.\",\n            dateISO: \"Please enter a valid date (ISO).\",\n            number: \"Bạn phải điền số .\",\n            digits: \"Bạn phải điền số.\",\n            ditcard: \"Please enter a valid credit card number.\",\n            equalTo: \"Please enter the same value again.\",\n            accept: \"Please enter a value with a valid extension.\",\n            maxlength: jQuery.validator.format(\"Please enter no more than {0} characters.\"),\n            minlength: jQuery.validator.format(\"Please enter at least {0} characters.\"),\n            rangelength: jQuery.validator.format(\"Please enter a value between {0} and {1} characters long.\"),\n            range: jQuery.validator.format(\"Điền số trong khoảng {0} đến {1}.\"),\n            max: jQuery.validator.format(\"Please enter a value less than or equal to {0}.\"),\n            min: jQuery.validator.format(\"Bạn phải điền số lớn hơn {0}.\")\n        });\n        /******************Editable Table********************/\n        // records table\n        $(document).mouseup(function () {\n            $(\".editbox\").hide();\n            $(\".jShow\").show();\n        });\n\n    function resetTable() {\n            //prevent repeat binding or bind only local element\n            $('[name=increase]')\n                .unbind(\"click\", Add)\n                .bind(\"click\", Add);\n            $('[name=delete]')\n                .unbind(\"click\", Delete)\n                .bind(\"click\", Delete);\n            $('[name=edit]')\n                .unbind(\"click\", editCell)\n                .bind(\"click\", editCell);\n        }\n\n        resetTable();\n        function editCell() {\n            var ID = $(this).closest('tr').attr('id');//record/skill id\n            var url = $(this).attr('data-table');\n            var cell = $(this).find(\"#cell_input_\" + ID);\n            var cellContent = $(this).children('#cell_' + ID);\n            var old = cell.val();\n            cellContent.hide();\n            cell.show();\n            $(this).change(function () {\n                if (validator.element(cell)) {\n\n                    $.ajax({\n                        type: \"PUT\",\n                        url: \"/\" + url + \"/\" + ID,\n                        data: cell.serialize(),\n                        cache: false,\n                        success: function (html) {\n                            cellContent.html(cell.val());\n                            cell.hide();\n                            cellContent.show();\n\n                        }\n                    });\n                }\n\n            });\n\n        }\n\n\n        function Add(e) {\n\n            var elements = $(this).closest('tr').next().clone();\n            var dataReact = elements.attr('data-react');\n            elements.appendTo('.editable-table tbody[data-response=' + dataReact + ']');\n            elements.show();\n            elements.find(\"[name=save]\").bind(\"click\", Save);\n            $(this).unbind(\"click\", Add);\n        }\n\n        function Save(e) {\n\n            var tr_e = $(this).closest('tr');\n            var url = tr_e.attr('newrow');\n            var tds = tr_e.children(\"td\");\n            var input1 = tds.eq(1).children(\"input[type=text]\");//year\n            var inputs = tr_e.find(\"td input[type=text]\");\n            var dataString = inputs.serialize()\n                + \"&id=\" + tr_e.attr('id') + \"&data-react=\" + tr_e.attr('data-react');\n            //id - cv\n            var t = 1;\n            inputs.each(function () {\n                if (validator.element($(this)) == false) t = false;\n            });\n            if (t) {\n                $.ajax({\n                    type: \"POST\",\n                    url: \"/\" + url,\n                   data: dataString,\n                    cache: false,\n                    success: function (react) {\n                        $(\" #\" + react).load(location.href + \" #\" + react + \">*\", function () {\n                            resetTable();\n                        });\n                    }\n                });\n            }\n        }\n\n        function Delete() {\n            var tr_e = $(this).closest('tr'); //tr \n            var ID = tr_e.attr('id');//record id\n            var url = $(this).closest('td').prev().attr('data-table');\n            $.ajax({\n                type: \"DELETE\",\n                url: \"/\" + url + \"/\" + ID,\n                data: \"\",\n                cache: false,\n                success: function (react) {\n                    $(\" #\" + react).load(location.href + \" #\" + react + \">*\", function () {\n                        resetTable();\n                    });\n\n                }\n            });\n        }\n\n\n        /**********************************End editable*********************************/\n        $('[data-table=table-resume] input#table-search').bind(\"change blur\", Search);\n        function Search() {\n            //$('input#table-search').bind(\"blur\", Search); \n            var value = $(this).val();\n            var dataString = 'keyword=' + value;\n            $('input#table-search').off();\n            if (value.length >= 0) {\n                $.ajax({\n                    type: \"GET\",\n                    url: \"/CV/search\",\n                    data: dataString,\n                    cache: false,\n                    success: function (html) {\n                        $(\" [data-reload=true]\").html(html);\n                        $(\"ul.pagination\").hide();// hide pagination\n                        $(\"#number-result\").show();\n                        $(\".tabs li\").attr(\"data-keyword\", value);\n                        $('input#table-search').bind(\"change blur\", Search);\n                    }\n                });\n            }\n        }\n\n        //sort\n        $(\"[data-table=table-resume] .tabs li\").on('click', function () {\n            var value = $(this).attr(\"data-keyword\");\n            var dataSort = $(this).attr(\"data-sort\");\n            var dataField = $(this).attr(\"data-field\");\n            var dataString = 'keyword=' + value + \"&data-sort=\" + dataSort + \"&data-field=\" + dataField;\n            if (dataSort == \"desc\") {\n                $(this).attr(\"data-sort\", \"asc\");\n            }\n            else $(this).attr(\"data-sort\", \"desc\");\n            if (1) {\n\n                $.ajax({\n                    type: \"GET\",\n                    url: \"/CV/search\",\n                    data: dataString,\n                    cache: false,\n                    success: function (html) {\n                        $(\" [data-reload=true]\").html(html);\n                    }\n                });\n\n            }\n        });\n\n        /*$(\"[data-table=table-user] .tabs li\").on('click', function()\n         {\n         var value = $(this).attr(\"data-keyword\") ;\n         var dataSort = $(this).attr(\"data-sort\");\n         var dataField = $(this).attr(\"data-field\");\n         dataString = 'keyword='+value+\"&data-sort=\"+dataSort +\"&data-field=\"+dataField;\n\n         window.location.replace(\"/User/search?\"+dataString);\n\n         if(dataSort == \"desc\"){$(this).attr(\"data-sort\",\"asc\");}\n         else $(this).attr(\"data-sort\",\"desc\");\n         });\n         $('[data-table=table-user] input#table-search').bind(\"change blur\", Search1);\n         function Search1()\n         {\n         var value = $(this).val() ;\n         var dataString = 'keyword='+value ;\n         $('this').off();\n         if(value.length>=0)\n         {\n         window.location.replace(\"/User/search?\"+dataString);\n         $(\".tabs li\").attr(\"data-keyword\", value);\n         $('this').bind(\"change blur\", Search1);\n\n         }\n\n         };*/\n        /*\n         *\n         *\n         ******/\n        $('[data-table=table-user] input#table-search').bind(\"change blur\", Search1);\n        function Search1() {\n            //$('input#table-search').bind(\"blur\", Search); \n            var value = $(this).val();\n            var dataString = 'keyword=' + value;\n            $('input#table-search').off();\n            if (value.length >= 0) {\n                $.ajax({\n                    type: \"GET\",\n                    url: \"/User/search\",\n                    data: dataString,\n                    cache: false,\n                    success: function (html) {\n                        $(\" [data-reload=true]\").html(html);\n                        $(\"ul.pagination\").hide();\n                        $(\"#number-result\").show();\n                        $(\".tabs li\").attr(\"data-keyword\", value);\n                        $('[data-table=table-user] input#table-search').bind(\"change blur\", Search1);\n                    }\n                });\n            }\n\n        }\n\n        //sort\n        $(\"[data-table=table-user] .tabs li\").on('click', function () {\n            var value = $(this).attr(\"data-keyword\");\n            var dataSort = $(this).attr(\"data-sort\");\n            var dataField = $(this).attr(\"data-field\");\n            var dataString = 'keyword=' + value + \"&data-sort=\" + dataSort + \"&data-field=\" + dataField;\n            if (dataSort == \"desc\") {\n                $(this).attr(\"data-sort\", \"asc\");\n            }\n            else $(this).attr(\"data-sort\", \"desc\");\n            if (1) {\n\n                $.ajax({\n                    type: \"GET\",\n                    url: \"/User/search\",\n                    data: dataString,\n                    cache: false,\n                    success: function (html) {\n                        $(\" [data-reload=true]\").html(html);\n                        $(\"ul.pagination\").hide();\n                    }\n                });\n\n            }\n        });\n        /***************User profile**********************/\n\n        //dropzone handle \n        $('#dropzone').on('dragover', function () {\n            $(this).addClass('hover');\n        });\n\n        $('#dropzone').on('dragleave', function () {\n            $(this).removeClass('hover');\n        });\n\n        $('#dropzone input').on('change', function (e) {\n            var file = this.files[0];\n\n            $('#dropzone').removeClass('hover');\n            //validation \n            if (this.accept && $.inArray(file.type, this.accept.split(/, ?/)) == -1) {\n                return alert('File type not allowed.');\n            }\n            var size = file.size;\n\n            //end validation \n            $('#dropzone').addClass('dropped');\n            $('#dropzone img').remove();\n\n            if ((/^image\\/(gif|png|jpeg|jpg)$/i).test(file.type)) {\n                var reader = new FileReader(file);\n\n                reader.readAsDataURL(file);\n                reader.onload = function (e) {\n                    var data = e.target.result,\n                        $img = $('<img />').attr('src', data).fadeIn();\n\n                    $('#dropzone').find('div').html($img);\n                };\n\n            } else {\n                var ext = file.name.split('.').pop();\n\n                $('#dropzone').find('div').html(ext);\n            }\n        });\n\n\n    }\n);\n\n\n"],"sourceRoot":"/source/"}